<project>

<target name="clean">
    <delete dir="./Microservicio/build"/>
    <delete dir="./Image-filter/build"/>
</target>

<target name="compile">
    <!-- <mkdir dir="./Microservicio/build/classes"/>-->
    <mkdir dir="./Image-filter/build/classes"/>
    <javac srcdir="./Image-filter/src" destdir="./Image-filter/build/classes"/>
        <classpath>
            <pathelement path="lib/sm.image.color.jar"/>
            <pathelement path="lib/sm.image.jar"/>
        </classpath>
    </javac>
    <mkdir dir="./Microservicio/build/classes"/>
    <javac srcdir="./Microservicio/src" destdir="./Microservicio/build/classes"/>
        <classpath>
            <pathelement path="Image-filter/dist/Image-filter.jar"/>
        </classpath>
    </javac>
</target>

<target name="jar">
    <mkdir dir="./build/jar"/>
    <jar destfile="./build/jar/DependencyFinder.jar" basedir="./build/classes">
        <manifest>
            <attribute name="DependencyFinder" value="main"/>
        </manifest>
    </jar>
</target>

<target name="run">
    <java jar="./build/jar/DependencyFinder.jar" classname="${main-class}" fork="true"/>
</target>

</project>
